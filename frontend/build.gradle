import es.ulabox.v14n.Docker

apply plugin: 'docker-plugin'


task install(type: Docker) {
    command 'npm', 'install'
    image 'node:7'
}

task clean(type: Delete) {
    delete 'node_modules'
    delete 'public'
}

task brunch(dependsOn: install, type: Exec) {
    commandLine = 'brunch'
    args = ['b', '--production']
}

task build(dependsOn: brunch) {
    doLast {
        println "Build completed for ${project.name}"
    }
}